<div class="reset-password-container">
  <h1 class="reset-password-title">Reset Password</h1>
  <p class="reset-password-subtitle">
    Enter your new password below.
  </p>

  <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" class="reset-password-form">
    <!-- Password Field -->
    <input
      type="password"
      id="password"
      formControlName="password"
      [class.error]="resetPasswordForm.get('password')?.invalid && resetPasswordForm.get('password')?.touched"
      placeholder="Enter new password"
    />
    <div class="error-message" *ngIf="resetPasswordForm.get('password')?.invalid && resetPasswordForm.get('password')?.touched">
      <span *ngIf="resetPasswordForm.get('password')?.errors?.['required']">Password is required</span>
      <span *ngIf="resetPasswordForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
    </div>

    <!-- Confirm Password Field -->
    <input
      type="password"
      id="confirmPassword"
      formControlName="confirmPassword"
      [class.error]="resetPasswordForm.get('confirmPassword')?.invalid && resetPasswordForm.get('confirmPassword')?.touched"
      placeholder="Confirm new password"
    />
    <div class="error-message" *ngIf="resetPasswordForm.get('confirmPassword')?.invalid && resetPasswordForm.get('confirmPassword')?.touched">
      <span *ngIf="resetPasswordForm.get('confirmPassword')?.errors?.['required']">Please confirm your password</span>
      <span *ngIf="resetPasswordForm.get('confirmPassword')?.errors?.['passwordMismatch']">Passwords do not match</span>
    </div>

    <!-- Success Message -->
    <div class="success-message" *ngIf="success && message">
      <span class="success-icon">✓</span>
      {{ message }}
    </div>

    <!-- Error Message -->
    <div class="error-message" *ngIf="error">
      <span class="error-icon">✗</span>
      {{ error }}
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="loading || !resetPasswordForm.valid || !token"
    >
      <span *ngIf="!loading">Reset Password</span>
      <span *ngIf="loading" class="loading-text">
        <span class="spinner"></span>
        Resetting...
      </span>
    </button>
  </form>

  <!-- Navigation Links -->
  <div class="navigation-links">
    <a (click)="goToSignin()" class="nav-link">Back to Sign In</a>
    <span class="separator">|</span>
    <a (click)="goToSignup()" class="nav-link">Create Account</a>
  </div>
</div>
